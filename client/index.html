<html>

<head></head>
<style>
    #container {
        width: 800px;
        margin: 80px auto 0;
    }
</style>

<body>
    <div id="container">
        用户名：<input id="inputUserName" required maxlength="12" /><input type="button" id="btnEnter" value="登录" />
    </div>
    <script>
        let userNameEl = document.querySelector('#inputUserName'),
            btnEnterEl = document.querySelector('#btnEnter')

        btnEnterEl.addEventListener('click', ev => {
            login(userNameEl.value)
        })

        userNameEl.addEventListener('keydown', ev => {
            if (ev.keyCode == 13) {
                login(userNameEl.value)
            }
        })


        function login(userName) {
            if (!userName) {
                alert('请输入用户名')
                return
            }
            localStorage.setItem('_JCHAT_USER_NAME_', userName)
            window.location.href = '/chat.html'
        }

        if (localStorage.getItem('_JCHAT_USER_NAME_') != null) {
            window.location.href = '/chat.html'
        }
    </script>
</body>

</html>